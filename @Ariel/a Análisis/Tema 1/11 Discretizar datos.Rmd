---
title: "Discretización de datos / Conversión de variables"
output: html_notebook
---
\

El proceso de discretizar datos (_binning_) se refiere a las distintas transformaciones que se pueden realizar a las variables cuantitativas para obtener variables CUALITATIVAS (DISCRETAS), es decir, que admitan valores numéricos no continuos o nominales/ordinales.
Como siempre, vamos a cargar el fichero de uso y a guardarlo en una variable para tener acceso a él.

```{r}
students_binning <- read.csv("/Users/macbookariel/Library/Mobile Documents/com~apple~CloudDocs/@ARIEL/AADD/DataScience/DataScience-con-RStudio/@Ariel/b Datos/tema1/data-conversion.csv")
```
\

En este CSV, podríamos modificar, por ejemplo, una variable cuantitativa como _Income_ y transformarla en categórica. Para ello, vamos a crear un vector con los puntos de quiebre de cada categoría (lo guardamos en una variable llamada _bp_) y luego vamos a indicar los nombres de cada categoría (que guardamos en una variable que llamaremos _name_). Finalmente, crearemos una nueva columna que almacenará las nuevas categorías (que llamaremos _students$Income.cat_) **(RECORDAMOS QUE SI ACCEDEMOS CON LA SINTAXIS DEL DÓLAR A UNA POSICIÓN "QUE NO EXISTE" ENTONCES ESTA SE CREARÁ)**, que se crearán haciendo uso de la función _**cut**_.
\

En definitiva, la función _**cut**_ requiere:

* La columna original a "cortar" en categorías.
* Los puntos de corte (que hemos guardado en la variable _bp_) y que se indicarán en el argumento _**breaks**_
* Los nombres de las nuevas categorías (que se indicarán en el parámetro _**labels**_)

```{r}
bp <- c(-Inf, 10000, 31000, Inf)
name <- c("Low", "Average", "High")

students_binning$Income.cat <- cut(students_binning$Income,
                                   breaks = bp, 
                                   labels = name)

View (students_binning)
```
\

> Siempre tenemos 1 punto más de breakpoint con respecto a las etiquetas (hay una etiqueta menos que puntos de corte).

\

En el caso de que no indiquemos etiquetas, R asignará automáticamente los valores de corte como etiqueta. 
Otra opción es dejar que R "decida" los puntos de corte, simplemente indicándole el número de categorías que se quieren formar (en lugar de dar un valor). En este caso, R seleccionará categorías distribuidas con un ancho constante.

```{r}
students_binning$Income.cat2 <- cut(students_binning$Income,
                                    breaks = bp) #No hay etiquetas.

students_binning$Income.cat3 <- cut(students_binning$Income,
                                    breaks = 4, 
                                    labels = c("Level 1",
                                               "Level 2",
                                               "Level 3",
                                               "Level 4")
                                    ) #Ahora hay 4 cortes que R decidirá y se le colocarán las etiquetas "Level...". Si quitamos las etiquetas, la etiqueta automática indicará el punto de corte que ha seleccionado R.

```



















